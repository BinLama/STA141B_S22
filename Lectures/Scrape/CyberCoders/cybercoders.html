<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="DTL" />
  <title>CyberCoders.com</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">CyberCoders.com</h1>
<p class="author">DTL</p>
<p class="date">May, 2022</p>
</header>
<p>We’ll look CyberCoders.com for jobs. This is a more specialized site than indeed.com or monster.com and, as a result, the number of positions is much smaller. This means our work doesn’t yield as many job descriptions, yet the work for each site is about the same.</p>
<p>We’ll be using the RCurl and XML packages to make HTTPS requests and parsing the HTML documents, respectively. You can use which ever equivalent packages you want.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="kw">library</span>(RCurl)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="kw">library</span>(XML)</span></code></pre></div>
<p>In our Web browser, we go to https://www.cybercoders.com and entere <code>Data Scientist</code> as a query. This brings us to the URL</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>u =<span class="st"> &quot;https://www.cybercoders.com/search/?searchterms=Data+Scientist&amp;searchlocation=&amp;newsearch=true&amp;originalsearch=true&amp;sorttype=&quot;</span></span></code></pre></div>
<p>We’ll do the same thing but programmatically in R. The URL <code>u</code> has</p>
<ul>
<li>the protocol HTTPS</li>
<li>the domain www.cybercoders.com</li>
<li>the file path /search/</li>
<li>a collection of parameters of the form name=value,
<ul>
<li>separated from each other by the <code>&amp;</code> character,</li>
<li>from the file path via the <code>?</code> character</li>
</ul></li>
</ul>
<p>The parameters are part of a HTTPS GET request as part of a ‘form’.</p>
<p>We’ll create a connection that can be used in multiple queries. and we’ll have it follow redirects and also not concern itself with checking SSL certificates. We should fix this but we won’t focus on that now. <!-- XXX Fix --></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a>BaseURL =<span class="st"> &quot;https://www.cybercoders.com/search/&quot;</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a>con =<span class="st"> </span><span class="kw">getCurlHandle</span>(<span class="dt">followlocation =</span> <span class="ot">TRUE</span>, <span class="dt">ssl.verifypeer =</span> <span class="ot">FALSE</span>)</span></code></pre></div>
<p>Note that the final / on the BaseURL value is essential later in calls to getRelativeURL().</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a>tt =<span class="st"> </span><span class="kw">getForm</span>(BaseURL, <span class="dt">searchterms =</span> <span class="st">&quot;Data Scientist&quot;</span>,</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a>             <span class="dt">searchlocation =</span> <span class="st">&quot;&quot;</span>, <span class="dt">newsearch =</span> <span class="st">&quot;true&quot;</span>, <span class="dt">originalsearch =</span> <span class="st">&quot;true&quot;</span>, <span class="dt">sorttype =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a>             <span class="dt">curl =</span> con)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a><span class="kw">nchar</span>(tt)</span></code></pre></div>
<p>Looking for the first question, we see it as a descendant of a node</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;job-listing-item&quot;</span><span class="kw">&gt;</span></span></code></pre></div>
<p>There is also a <code>div</code> with a class of “job-listing-container”. There is only one of these.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a>doc =<span class="st"> </span><span class="kw">htmlParse</span>(tt)    </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a>j =<span class="st"> </span><span class="kw">getNodeSet</span>(doc, <span class="st">&quot;//div[@class = &#39;job-listing-container&#39;]&quot;</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true"></a><span class="kw">length</span>(j)</span></code></pre></div>
<p>Let’s count the job-listing-item nodes.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a>j =<span class="st"> </span><span class="kw">getNodeSet</span>(doc, <span class="st">&quot;//div[@class = &#39;job-listing-item&#39;]&quot;</span>)</span></code></pre></div>
<p>How many jobs are there on this page? <code>length(j)</code>.</p>
<p>In the Web browser, we see that the page says 24 jobs. However, we have 21. Scrolling to the bottom of the page, we see a button for the next page of results.</p>
<p>There are 4 on that page. Why do we have 25 in total? There appears to be one “job” in the list that is an advertisement for cybercoders.com itself.</p>
<p><img src="AdPost.png" /></p>
<p>It appears to be the fifth one on the first page. Looking at this node - <code>j[[5]]</code> -, we see that it is this advertisement/signup.</p>
<p>We need to ignore this one when processing the job summaries. It appears this one has no job-title node. So we can add this to our XPath query when looking for the job nodes</p>
<pre><code>j = getNodeSet(doc, &quot;//div[@class = &#39;job-listing-item&#39; and .//div[@class = &#39;job-title&#39;]]&quot;)</code></pre>
<p>So we seem to have 20 real posts on the first page and 4 on the next.</p>
<p>How do we get the next page?</p>
<p>The next button and the page number buttons look like</p>
<p><img src="NextButtons.png" /></p>
<p>It is hard to search for 1 or 2 or the &gt; image. We can mouse over one of the buttons and see what the link is in the Web browser’s status bar at the bottom of the window. Also we can right-click on one of the buttons and Copy Link into the clipboard and then examine it</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a>https<span class="op">:</span><span class="er">//</span>www.cybercoders.com<span class="op">/</span>search<span class="op">/</span>?page=<span class="dv">2</span><span class="op">&amp;</span>searchterms=Data%20Scientist<span class="op">&amp;</span>searchlocation=<span class="er">&amp;</span>newsearch=true<span class="op">&amp;</span>originalsearch=true<span class="op">&amp;</span>sorttype=</span></code></pre></div>
<p>So now we know what we are looking for, although the domain part may not be in the HTML, i.e. the https://www.cybercoders.com/search/.</p>
<p>So let’s look an &lt;a&gt; node with a href attribute that contains <code>page=2</code>. We can do this in the text editor or with XPath</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a>nx =<span class="st"> </span><span class="kw">getNodeSet</span>(doc, <span class="st">&quot;//a[contains(@href, &#39;page=2&#39;)]&quot;</span>)</span></code></pre></div>
<p>We get 3 matching nodes. One is for the 2 button, another for the » button and third with the label Next for the button. This Next doesn’t seem to appear on the page.</p>
<p>We could explore why it doesn’t appear, but the key is that all three of these nodes have the same value for the href attribute. That is because there are only 2 pages. We want the one for the » or Next as that is the next page.</p>
<pre><code>nx = getNodeSet(doc, &quot;//a[. = &#39;Next&#39;]/@href&quot;)
next.url = getRelativeURL(nx[[1]], BaseURL)  # the final / is important.</code></pre>
<p>Let’s fetch this and find the 4 job postings</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a>p2 =<span class="st"> </span><span class="kw">getURLContent</span>(next.url , <span class="dt">ssl.verifypeer =</span> <span class="ot">FALSE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a>doc2 =<span class="st"> </span><span class="kw">htmlParse</span>(p2)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true"></a>j2 =<span class="st"> </span><span class="kw">getNodeSet</span>(doc2, <span class="st">&quot;//div[@class = &#39;job-listing-item&#39;]&quot;</span>)</span></code></pre></div>
<p>We only get 3 posts. Is this because</p>
<ul>
<li>they are counting the ad post?</li>
<li>we miscounted? or</li>
<li>the second page has changed between when we made the initial query and fetching the second page?</li>
</ul>
<p>Regardless, we have the jobs on the second pages.</p>
<h2 id="processing-each-post">Processing Each Post</h2>
<p>Now that we have found these posts, we want to extract the information from each of these and also the full description for each post.</p>
<p>Each post looks something like</p>
<p><img src="Post.png" /></p>
<p>We want the</p>
<ul>
<li>√ title - Data Scientist</li>
<li>√ location - New York</li>
<li>√ salary</li>
<li>√ salary type - Full-time</li>
<li>√ text</li>
<li>√ the items at the bottom identifying key characteristics of the job, e.g., Python, R, SQL.</li>
<li>√ the URL for the full description</li>
<li>√ date posted</li>
</ul>
<p>The node is</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a><span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;job-listing-item&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true"></a>    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;job-title&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true"></a>        <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/data-scientist-job-639658&quot;</span><span class="kw">&gt;</span>Data Scientist<span class="kw">&lt;/a&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true"></a>    <span class="kw">&lt;/div&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true"></a>    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;job-posted posted&quot;</span><span class="kw">&gt;&lt;span&gt;</span>Posted<span class="kw">&lt;/span&gt;</span> 05/19/2022<span class="kw">&lt;/div&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true"></a>    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;details&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true"></a><span class="dv">&amp;#13;</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true"></a>                    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;location&quot;</span><span class="kw">&gt;&lt;span</span><span class="ot"> class=</span><span class="st">&quot;ico-house&quot;</span><span class="kw">/&gt;</span>New York, NY<span class="kw">&lt;/div&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true"></a><span class="dv">&amp;#13;</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true"></a><span class="dv">&amp;#13;</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true"></a><span class="dv">&amp;#13;</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true"></a>        <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;salary-type&quot;</span><span class="kw">&gt;&lt;span</span><span class="ot"> class=</span><span class="st">&quot;ico-briefcase&quot;</span><span class="kw">/&gt;</span> Full-time<span class="kw">&lt;/div&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true"></a><span class="dv">&amp;#13;</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true"></a>            <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;salary&quot;</span><span class="kw">&gt;&lt;span</span><span class="ot"> class=</span><span class="st">&quot;ico-money&quot;</span><span class="kw">/&gt;</span> $110k - $130k<span class="kw">&lt;/div&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true"></a><span class="dv">&amp;#13;</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true"></a>    <span class="kw">&lt;/div&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true"></a><span class="dv">&amp;#13;</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true"></a>    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;description&quot;</span><span class="kw">&gt;</span>Job Title: Data Scientist Job Location: 3x per week onsite in Financial District, NY   Salary: $110-130k   Requirements: 4+ years experience Data Analytics, Python and/or R. SQL, Machine Learning    W...<span class="kw">&lt;/div&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true"></a><span class="dv">&amp;#13;</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true"></a>        <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/data-scientist-job-639658&quot;</span><span class="ot"> class=</span><span class="st">&quot;apply-button&quot;</span><span class="kw">&gt;</span>Apply Now <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;apply&quot;</span><span class="kw">/&gt;&lt;/a&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true"></a><span class="dv">&amp;#13;</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true"></a>        <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;skills&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true"></a>            <span class="kw">&lt;ul</span><span class="ot"> class=</span><span class="st">&quot;skill-list&quot;</span><span class="kw">&gt;&lt;li</span><span class="ot"> class=</span><span class="st">&quot;skill-item&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true"></a>                        <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/search/data-analytics-skills/&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true"></a>                            <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;left-off&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true"></a>                            <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;skill-name&quot;</span><span class="kw">&gt;</span>Data Analytics<span class="kw">&lt;/span&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true"></a>                            <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;right&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true"></a>                        <span class="kw">&lt;/a&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true"></a>                    <span class="kw">&lt;/li&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true"></a>                    <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;skill-item&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true"></a>                        <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/search/crm-software-skills/&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true"></a>                            <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;left-off&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true"></a>                            <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;skill-name&quot;</span><span class="kw">&gt;</span>CRM Software<span class="kw">&lt;/span&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true"></a>                            <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;right&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true"></a>                        <span class="kw">&lt;/a&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true"></a>                    <span class="kw">&lt;/li&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true"></a>                    <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;skill-item&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true"></a>                        <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/search/python-skills/&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true"></a>                            <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;left-off&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true"></a>                            <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;skill-name&quot;</span><span class="kw">&gt;</span>Python<span class="kw">&lt;/span&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true"></a>                            <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;right&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true"></a>                        <span class="kw">&lt;/a&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true"></a>                    <span class="kw">&lt;/li&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true"></a>                    <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;skill-item&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true"></a>                        <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/search/r-skills/&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true"></a>                            <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;left-off&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true"></a>                            <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;skill-name&quot;</span><span class="kw">&gt;</span>R<span class="kw">&lt;/span&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true"></a>                            <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;right&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true"></a>                        <span class="kw">&lt;/a&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true"></a>                    <span class="kw">&lt;/li&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true"></a>                    <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;skill-item&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true"></a>                        <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/search/sql-skills/&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true"></a>                            <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;left-off&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true"></a>                            <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;skill-name&quot;</span><span class="kw">&gt;</span>SQL<span class="kw">&lt;/span&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-55"><a href="#cb14-55" aria-hidden="true"></a>                            <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;right&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-56"><a href="#cb14-56" aria-hidden="true"></a>                        <span class="kw">&lt;/a&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-57"><a href="#cb14-57" aria-hidden="true"></a>                    <span class="kw">&lt;/li&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-58"><a href="#cb14-58" aria-hidden="true"></a>            <span class="kw">&lt;/ul&gt;&lt;/div&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb14-59"><a href="#cb14-59" aria-hidden="true"></a><span class="kw">&lt;/div&gt;</span> </span></code></pre></div>
<h3 id="the-title">The Title</h3>
<p>We want the title This is the text in the &lt;a&gt; node within the &lt;div class=“job-title”&gt; (The &amp;#13; is an entity that represents a new line.)</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a>a =<span class="st"> </span><span class="kw">getNodeSet</span>(node, <span class="st">&quot;.//div[@class=&#39;job-title&#39;]/a&quot;</span>)</span></code></pre></div>
<p>Note the . at the start of the XPath expression. This is essential so that we search the descendants of this node and not the etire document in which the node is located.</p>
<p><code>a</code> is a list with one element, the node of interest. We didn’t subset it directly as we typically have to check it has a positive length, in case there was no such matching node.</p>
<p>We want the the text within this node and we use xmlValue()</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a>title =<span class="st"> </span><span class="kw">xmlValue</span>(a[[<span class="dv">1</span>]])</span></code></pre></div>
<h3 id="full-description-url">Full Description URL</h3>
<p>We also want the URL for the full description and this is the href attribute of this &lt;a&gt; node.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a>full =<span class="st"> </span><span class="kw">xmlGetAttr</span>(a[[<span class="dv">1</span>]], <span class="st">&quot;href&quot;</span>)</span></code></pre></div>
<p>We need to use getRelativeURL() again to get the full URL.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true"></a>full =<span class="st"> </span><span class="kw">getRelativeURL</span>(full, BaseURL)</span></code></pre></div>
<h3 id="date">Date</h3>
<p>The date the job was posted is in</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a> <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;job-posted posted&quot;</span><span class="kw">&gt;&lt;span&gt;</span>Posted<span class="kw">&lt;/span&gt;</span> 05/19/2022<span class="kw">&lt;/div&gt;</span><span class="dv">&amp;#13;</span></span></code></pre></div>
<p>We want the text node directly under the &lt;div&gt;, not the one in the &lt;span&gt;</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true"></a>date =<span class="st"> </span><span class="kw">xpathSApply</span>(node, <span class="st">&quot;.//div[starts-with(@class, &#39;job-posted&#39;)]/text()&quot;</span>, xmlValue)</span></code></pre></div>
<p>We may have to be more general with other job postings as this may not be the class.</p>
<p>We can check this quickly on all</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true"></a>pt =<span class="st"> </span><span class="kw">getNodeSet</span>(doc, <span class="st">&quot;//div[starts-with(@class, &#39;job-posted&#39;)]&quot;</span>)</span></code></pre></div>
<p>There are 20 as we hoped.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true"></a><span class="kw">xpathSApply</span>(doc, <span class="st">&quot;//div[starts-with(@class, &#39;job-posted&#39;)]&quot;</span>, xmlValue)</span></code></pre></div>
<p>So all of these also have Posted in the text.</p>
<h4 id="skils">Skils</h4>
<p>The skills/job characteristics such as R, SQL are in sub-nodes</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true"></a><span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;skill-item&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true"></a>    <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/search/python-skills/&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true"></a>        <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;left-off&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true"></a>        <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;skill-name&quot;</span><span class="kw">&gt;</span>Python<span class="kw">&lt;/span&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true"></a>        <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;right&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true"></a>    <span class="kw">&lt;/a&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true"></a><span class="kw">&lt;/li&gt;</span></span></code></pre></div>
<p>So we can get the span with a class <code>skill-name</code></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true"></a>skills =<span class="st"> </span><span class="kw">xpathSApply</span>(node, <span class="st">&quot;.//span[@class = &#39;skill-name&#39;]&quot;</span>, xmlValue)</span></code></pre></div>
<h4 id="location">Location</h4>
<p>Here we want the</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true"></a>  <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;location&quot;</span><span class="kw">&gt;&lt;span</span><span class="ot"> class=</span><span class="st">&quot;ico-house&quot;</span><span class="kw">/&gt;</span>New York, NY<span class="kw">&lt;/div&gt;</span><span class="dv">&amp;#13;</span></span></code></pre></div>
<p>We get it with</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true"></a>loc =<span class="st"> </span><span class="kw">xpathSApply</span>(node, <span class="st">&quot;.//div[@class=&#39;location&#39;]&quot;</span>, xmlValue)</span></code></pre></div>
<h4 id="salary">Salary</h4>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true"></a>salary =<span class="st"> </span><span class="kw">xpathSApply</span>(node, <span class="st">&quot;.//div[@class=&#39;salary&#39;]&quot;</span>, xmlValue)</span></code></pre></div>
<h4 id="salary-type">Salary Type</h4>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true"></a>salaryType =<span class="st"> </span><span class="kw">xpathSApply</span>(node, <span class="st">&quot;.//div[@class=&#39;salary-type&#39;]&quot;</span>, xmlValue)</span></code></pre></div>
<p>Some of these are similar we could write a general function to each one and sapply that, e.g.,</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true"></a><span class="kw">lapply</span>(<span class="kw">c</span>(<span class="st">&quot;salary&quot;</span>, <span class="st">&quot;salary-type&quot;</span>, <span class="st">&quot;location&quot;</span>),</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true"></a>         <span class="cf">function</span>(k) </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true"></a>            <span class="kw">xpathSApply</span>(node, <span class="kw">sprintf</span>(<span class="st">&quot;.//div[@class=&#39;%s&#39;]&quot;</span>, k), xmlValue))</span></code></pre></div>
<h2 id="full-job-description">Full Job Description</h2>
<p>We’ll look at a specific job’s detailed post:</p>
<p><img src="FullDescription.png" /></p>
<p>Parts of this are repeated from the summary description on the results page. These are the more structured/regular content on the page. The other information is more free-form and semi-structured. It has some structure as humans are reading it so there are</p>
<ul>
<li>section titles,</li>
<li>paragraphs</li>
<li>lists</li>
</ul>
<p>The lists may be explicit HTML &lt;ul&gt;/&lt;li&gt; elements, or as in this case, text that have explicit line breaks (&lt;br/&gt;.) So this will not be as straightforward to read.</p>
<p>We fetch the page’s contents and parse the HTML:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true"></a>u =<span class="st"> &quot;https://www.cybercoders.com/data-scientist-job-639658&quot;</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true"></a>tt =<span class="st"> </span><span class="kw">getURLContent</span>(u, <span class="dt">ssl.verifypeer =</span> <span class="ot">FALSE</span>)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true"></a>doc =<span class="st"> </span><span class="kw">htmlParse</span>(tt)</span></code></pre></div>
<p>We can look for explicit header elements. In HTML, these are H1, H2, …, H6. We can use XPath to find any of these with</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true"></a>h =<span class="st"> </span><span class="kw">getNodeSet</span>(doc, <span class="st">&quot;//h1|//h2|//h3|//h4|//h5|//h6&quot;</span>)</span></code></pre></div>
<p>There are 9 of these nodes.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true"></a><span class="kw">table</span>(<span class="kw">sapply</span>(h, xmlName))</span></code></pre></div>
<pre><code>h1 h3 h4 
 1  5  3 </code></pre>
<p>We can learn how these are used in this post, but this may not generalize to other job posts.</p>
<ul>
<li>The h1 node is the title - Data Scientist</li>
<li>The h4 nodes are</li>
</ul>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true"></a>h[<span class="kw">sapply</span>(h, xmlName) <span class="op">==</span><span class="st"> &quot;h4&quot;</span>]</span></code></pre></div>
<pre><code>[[1]]
&lt;h4 class=&quot;section-title&quot;&gt;What You Will Be Doing&lt;/h4&gt; 

[[2]]
&lt;h4 class=&quot;section-title&quot;&gt;What You Need for this Position&lt;/h4&gt; 

[[3]]
&lt;h4 class=&quot;section-title&quot;&gt;Preferred Skills&lt;/h4&gt; </code></pre>
<p>These are the different sections related to the job.</p>
<p>The H3 nodes are CyberCoders’ own generic elements not specific to this job description. We may be able to use this information for other posts to filter these.</p>
<p>The section title Preferred Skills is hopefully something most full descriptions will have, even if it does not use the exact same name. This presumably provides information about In this case, it appears this is the same information as in the summary job description. Could it perhaps be different, e.g., have more phrases than the summary? or provide enhanced text descriptions?</p>
<p>We want to find</p>
<ul>
<li>education level</li>
<li>experience</li>
<li>technical skills, adding to those skills in the job summary on the results page.</li>
</ul>
<p>In HTML, the header/section titles (&lt;H4&gt; for example) are simple nodes whose contents form the text of the title. They may mark the start of a “section”, but do not include the contents of the section. This means that to find the HTML content associated with the section corresponding to a header, we have to find the HTML nodes after that header and before the next header. This is more complicated as we may have sub-headers, i.e., sub-sections. Also, not all headers at the same “level” may be sibling HTML nodes. They may be inside, for example, &lt;div&gt; nodes.</p>
<p>If all of the &lt;h4&gt; nodes were siblings, i.e., child nodes of the same parent node, we could group nodes between them using our <code>cumsum()</code> approach. This is similar to the approach we used to group lines in email messages.</p>
<p>We can check whether they &lt;H4&gt; nodes are sibling in various ways. One way is to get the parent of the first of these and get the names of all the parent’s children. The names of the children are the node names:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true"></a><span class="kw">names</span>(<span class="kw">xmlChildren</span>(<span class="kw">xmlParent</span>(h[[<span class="dv">2</span>]])))</span></code></pre></div>
<pre><code> [1] &quot;text&quot;    &quot;p&quot;       &quot;div&quot;     &quot;comment&quot; &quot;comment&quot; &quot;h4&quot;     
 [7] &quot;div&quot;     &quot;h4&quot;      &quot;div&quot;     &quot;comment&quot; &quot;comment&quot; &quot;comment&quot;
[13] &quot;comment&quot; &quot;div&quot;     &quot;comment&quot; &quot;comment&quot; &quot;text&quot;    &quot;p&quot;      
[19] &quot;text&quot;   </code></pre>
<p>So there are only two of the three &lt;h4&gt; nodes here - element 6 and 8. The third &lt;H4&gt; does appear to be indented and so we may be able to identify process it separately. Also, it contains a &lt;UL&gt; and we already have the code to process it from the working with the summary description.</p>
<p>In this case, each of the two &lt;H4&gt; nodes is followed by a &lt;DIV&gt; node and those &gt;DIV&lt; nodes have the content corresponding to that section. And this is true of the third &lt;H4&gt; node. So this makes things simpler than grouping using <code>cumsum()</code>. For each &lt;H4&gt; node, we can find the following sibling immediately after it. We can do this with XPath</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true"></a>sections =<span class="st"> </span><span class="kw">getNodeSet</span>(doc, <span class="st">&quot;//h4/following-sibling::*[1]&quot;</span>)</span></code></pre></div>
<p>We can be more specific and require the first &lt;DIV&gt; node following the header:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true"></a>sections =<span class="st"> </span><span class="kw">getNodeSet</span>(doc, <span class="st">&quot;//h4/following-sibling::div[1]&quot;</span>)</span></code></pre></div>
<p>Either works in this case. So we’ll use the simplest and we’ll hope this approach works for other cybercoders full job descriptions.</p>
<p>Note that this also works for the third &lt;H$&gt; node as it is followed by a &lt;DIV&gt; that houses the contents of interest.</p>
<p>Let’s deal with the Preferred Skills section first - the third &lt;H4&gt; node as it is the simplest.</p>
<p>The HTML is</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true"></a><span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;skills&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true"></a>                    <span class="kw">&lt;ul</span><span class="ot"> class=</span><span class="st">&quot;skill-list&quot;</span><span class="kw">&gt;&lt;li</span><span class="ot"> class=</span><span class="st">&quot;skill-item&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true"></a>                                <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/jobs/data-analytics-skills/&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true"></a>                                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;left-off&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true"></a>                                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;skill-name&quot;</span><span class="kw">&gt;</span>Data Analytics<span class="kw">&lt;/span&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true"></a>                                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;right&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true"></a>                                <span class="kw">&lt;/a&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true"></a>                            <span class="kw">&lt;/li&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true"></a>                            <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;skill-item&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true"></a>                                <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/jobs/crm-software-skills/&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true"></a>                                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;left-off&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true"></a>                                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;skill-name&quot;</span><span class="kw">&gt;</span>CRM Software<span class="kw">&lt;/span&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true"></a>                                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;right&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true"></a>                                <span class="kw">&lt;/a&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true"></a>                            <span class="kw">&lt;/li&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true"></a>                            <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;skill-item&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true"></a>                                <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/jobs/python-skills/&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true"></a>                                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;left-off&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true"></a>                                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;skill-name&quot;</span><span class="kw">&gt;</span>Python<span class="kw">&lt;/span&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true"></a>                                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;right&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true"></a>                                <span class="kw">&lt;/a&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true"></a>                            <span class="kw">&lt;/li&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true"></a>                            <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;skill-item&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true"></a>                                <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/jobs/r-skills/&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true"></a>                                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;left-off&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true"></a>                                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;skill-name&quot;</span><span class="kw">&gt;</span>R<span class="kw">&lt;/span&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true"></a>                                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;right&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true"></a>                                <span class="kw">&lt;/a&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true"></a>                            <span class="kw">&lt;/li&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true"></a>                            <span class="kw">&lt;li</span><span class="ot"> class=</span><span class="st">&quot;skill-item&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-31"><a href="#cb40-31" aria-hidden="true"></a>                                <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/jobs/sql-skills/&quot;</span><span class="kw">&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-32"><a href="#cb40-32" aria-hidden="true"></a>                                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;left-off&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-33"><a href="#cb40-33" aria-hidden="true"></a>                                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;skill-name&quot;</span><span class="kw">&gt;</span>SQL<span class="kw">&lt;/span&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-34"><a href="#cb40-34" aria-hidden="true"></a>                                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;right&quot;</span><span class="kw">/&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-35"><a href="#cb40-35" aria-hidden="true"></a>                                <span class="kw">&lt;/a&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-36"><a href="#cb40-36" aria-hidden="true"></a>                            <span class="kw">&lt;/li&gt;</span><span class="dv">&amp;#13;</span></span>
<span id="cb40-37"><a href="#cb40-37" aria-hidden="true"></a>                    <span class="kw">&lt;/ul&gt;&lt;/div&gt;</span> </span></code></pre></div>
<p>We can extract the text describing the skills with</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true"></a><span class="kw">xpathSApply</span>(sections[[<span class="dv">3</span>]], <span class="st">&quot;.//span[@class = &#39;skill-name&#39;]&quot;</span>, xmlValue)</span></code></pre></div>
<pre><code>[1] &quot;Data Analytics&quot; &quot;CRM Software&quot;   &quot;Python&quot;        
[4] &quot;R&quot;              &quot;SQL&quot;           </code></pre>
<p>We didn’t need to explicitly take advantage of the structure of the list, but we could have</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true"></a><span class="kw">xpathSApply</span>(sections[[<span class="dv">3</span>]], <span class="st">&quot;.//li//span[@class = &#39;skill-name&#39;]&quot;</span>, xmlValue)</span></code></pre></div>
<p>We would only do this if our simpler approach wasn’t sufficient to combine the text from the &lt;span&gt; nodes together corresponding to the list items, e.g., if there were multiple &lt;span&gt; elements with class <code>skill-name</code> within the same list item and we wanted to organize them by list item.</p>
<p>Note that each of these list-items contains a hyperlink and this brings us to a page of jobs for that skill. This is a good way to find related jobs and explore their characteristics.</p>
<h3 id="less-structured-section-content">Less Structured Section Content</h3>
<p>Let’s next look at the second &lt;H4&gt; node’s &lt;DIV&gt; node:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true"></a><span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;section-data section-data-title&quot;</span><span class="ot"> data-section=</span><span class="st">&quot;7&quot;</span><span class="kw">&gt;</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true"></a><span class="co">&lt;!--START_SECTION_7--&gt;</span>Bachelors degree<span class="kw">&lt;br/&gt;</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true"></a>4+ years of experience in data analysis in a customer relationship management, marketing, or consumer research environment<span class="kw">&lt;br/&gt;</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true"></a>Python and/or R<span class="kw">&lt;br/&gt;</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true"></a>Writing and understanding SQL queries<span class="kw">&lt;br/&gt;</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true"></a>Highly functional knowledge of CRM software<span class="kw">&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true"></a>Plus skills:<span class="kw">&lt;br/&gt;</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true"></a>Ability to develop scripts to enable Natural Language Processing (NLP) solutions to support consumer analysis<span class="co">&lt;!--</span><span class="re">END</span><span class="co">_SECTION_7--&gt;</span><span class="kw">&lt;/div&gt;</span> </span></code></pre></div>
<p>The authors are using &lt;BR&gt; nodes to separate the text on lines. This is basically a list. We’ll group by &lt;br&gt;</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true"></a>k =<span class="st"> </span><span class="kw">xmlChildren</span>(sections[[<span class="dv">2</span>]])</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true"></a><span class="kw">names</span>(k)</span></code></pre></div>
<pre><code> [1] &quot;comment&quot; &quot;text&quot;    &quot;br&quot;      &quot;text&quot;    &quot;br&quot;      &quot;text&quot;   
 [7] &quot;br&quot;      &quot;text&quot;    &quot;br&quot;      &quot;text&quot;    &quot;br&quot;      &quot;br&quot;     
[13] &quot;br&quot;      &quot;text&quot;    &quot;br&quot;      &quot;text&quot;    &quot;comment&quot;</code></pre>
<p>We’ll remove the comment nodes.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true"></a>k =<span class="st"> </span>k[ <span class="kw">names</span>(k) <span class="op">!=</span><span class="st"> &quot;comment&quot;</span>]</span></code></pre></div>
<p>Note, this doesn’t remove them from the original HTML document tree.</p>
<p>We put these nodes into groups</p>
<pre><code>g = split(k, cumsum( names(k) == &quot;br&quot; ) )</code></pre>
<p>We can discard the groups with only a &lt;br&gt; element:</p>
<pre><code>g[ !sapply(g, function(x) length(x) == 1 &amp;&amp; names(x) == &quot;br&quot;)]</code></pre>
<p>Alternatively, we can remove the &lt;br&gt; elements in each group and then remove those that have length 0. This may be simpler as we want to remove the &lt;br&gt; elements anyway (although this may not be essential since we only want the text and they contain no text.)</p>
<pre><code>g = lapply(g, function(x) x[ names(x) != &quot;br&quot;])
g = g[sapply(g, length) &gt; 0 ]</code></pre>
<p>This does break the first paragraph into lines. It also breaks the second paragraph into separate lines. We want to recognized the “Plus skills:” as a sub-section header and consider this to be Preferred or Optional qualifications. So we deal with that separately.</p>
<p>Note that these are text nodes. To get the text, we need</p>
<pre><code>g = lapply(g, function(x) sapply(x, xmlValue, trim = TRUE))</code></pre>
<p>We can use the same approach for the first paragraph.</p>
<pre><code>k = xmlChildren(sections[[1]])
k = k[ names(k) != &quot;comment&quot;]
g = split(k, cumsum( names(k) == &quot;br&quot; ) )
g = lapply(g, function(x) x[ names(x) != &quot;br&quot;])
g = g[sapply(g, length) &gt; 0 ]</code></pre>
<p>This gives us</p>
<pre><code>$`0`
$`0`$text
Collect, maintain, and analyze all data about our recruitment, enrollment, and retention pipeline 


$`1`
$`1`$text
Analyze family life cycle and lifetime value to make recommendations  


$`2`
$`2`$text

Develop and conduct trainings for colleagues to enable self-service for recurring analytics tasks </code></pre>
<p>Note that these are text nodes. To get the text, we need</p>
<pre><code>lapply(g, function(x) sapply(x, xmlValue, trim = TRUE))</code></pre>
<h2 id="processing-the-requirements">Processing the Requirements</h2>
<p>Returning to the second section “What you Need for this Position”.</p>
<h4 id="educational-level">Educational Level</h4>
<p>We want to identify the educational requirements. This is Bachelor’s degree. To do this reliably across posts, so we will have to look at others and find patterns for identifying this.</p>
<p>We’ll get the text for the required (not preferred) characteristics:</p>
<pre><code>req = unlist(g[1:5])</code></pre>
<p>We can look for the word “degree” and the word before that. In this case, it will identify Bachelors.</p>
<pre><code>deg = grep(&quot;degree&quot;, req, value = TRUE)
getCaptures(&quot;(^|.* )(\\w+) degree.*&quot;, deg, asDataFrame = FALSE)</code></pre>
<!-- getCaptures(".*\\b(\\w)\\bdegree.*", deg)  -->
<p>Similarly, in another cybercoders post https://www.cybercoders.com/senior-data-scientist-job-581871, it will identify Masters. In that post, the text is</p>
<pre><code>Masters degree or higher in Computer Science, Statistics, 
Electrical Engineering or other related fields </code></pre>
<p>We also want to extract the different fields of study.</p>
<p>Rather than look for the word degree, we can also look for Bachelor’s, Bachelor, Bachelors, Masters, Master’s, Master, PhD, PHD, Doctor of Philosophy. Again, another job for regular expressions.</p>
<h3 id="years-of-experience">Years of Experience</h3>
<p>Again, we can use regular expressions to look for the word of interest - experience. In the second post, we see it in three sentences</p>
<pre><code>5+ years experience as a Data Scientist
Experience with time series analysis and sequential modeling
Must have experience with developing machine learning approaches for modeling and predicting user behaviors </code></pre>
<p>All are relevant, but we want the first for the number of years of experience. We can look for</p>
<ul>
<li>“years experience”, or</li>
<li>a number, probably followed by a + and followed by experience and</li>
</ul>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true"></a><span class="kw">grep</span>(<span class="st">&quot;[0-9]+</span><span class="ch">\\</span><span class="st">+? .* experience&quot;</span>, txt)</span></code></pre></div>
<!--

```r
brp = getNodeSet(doc, "//br/..")
```

```r
k = xmlChildren(brp[[1]])
k = k[names(k) != "comment"]
g = split(k, cumsum(names(k) == "br"))
sapply(g, function(x) sapply(x[names(x) != "br"], xmlValue))
```
-->
<h3 id="putting-it-all-together">Putting it All Together</h3>
<p>See <a href="funs.R">funs.R</a> for the outline of functions putting the steps above together. These work, but there are problems with some of these functions that need to be fixed before being used on lots of queries. <!-- There can be multiple  location values and so we get repeated rows for the other 
     variables. --></p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true"></a>z =<span class="st"> </span><span class="kw">cyberCoders</span>(<span class="st">&quot;data scientist&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true"></a>k =<span class="st"> </span><span class="kw">sort</span>(<span class="kw">table</span>(<span class="kw">unlist</span>(ds<span class="op">$</span>skills)), <span class="dt">decreasing =</span> <span class="ot">TRUE</span>)</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true"></a>k[k <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>]</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true"></a></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true"></a>                     Python            Machine Learning </span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true"></a>                         <span class="dv">22</span>                          <span class="dv">21</span> </span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true"></a>                        SQL                Data Science </span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true"></a>                         <span class="dv">14</span>                           <span class="dv">9</span> </span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true"></a>                          R                         AWS </span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true"></a>                          <span class="dv">8</span>                           <span class="dv">5</span> </span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true"></a>    Artificial Intelligence Natural Language Processing </span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true"></a>                          <span class="dv">4</span>                           <span class="dv">4</span> </span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true"></a>                speech data         Speech<span class="op">-</span>to<span class="op">-</span>text data </span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true"></a>                          <span class="dv">4</span>                           <span class="dv">4</span> </span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true"></a>             Data Scientist                  Databricks </span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true"></a>                          <span class="dv">3</span>                           <span class="dv">3</span> </span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true"></a>                      RDBMS                  Statistics </span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true"></a>                          <span class="dv">3</span>                           <span class="dv">3</span> </span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true"></a>                Data Mining               Deep Learning </span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true"></a>                          <span class="dv">2</span>                           <span class="dv">2</span> </span></code></pre></div>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true"></a><span class="kw">sort</span>(<span class="kw">table</span>(<span class="kw">unlist</span>(ds<span class="op">$</span>salaryType)), <span class="dt">decreasing =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p>The salaries:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true"></a>amt =<span class="st"> </span><span class="kw">procSalary</span>(ds<span class="op">$</span>salary)</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true"></a><span class="kw">range</span>(amt<span class="op">$</span>low, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true"></a>[<span class="dv">1</span>]  <span class="dv">90000</span> <span class="dv">180000</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true"></a><span class="kw">range</span>(amt<span class="op">$</span>high, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true"></a>[<span class="dv">1</span>] <span class="dv">110000</span> <span class="dv">250000</span></span></code></pre></div>
<p>Location</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true"></a>z<span class="op">$</span>loc</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true"></a></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true"></a> [<span class="dv">1</span>] <span class="st">&quot;New York, NY&quot;</span>            <span class="st">&quot; Remote Position&quot;</span>       </span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true"></a> [<span class="dv">3</span>] <span class="st">&quot;Lake Forest, CA&quot;</span>         <span class="st">&quot; Remote Position&quot;</span>       </span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true"></a> [<span class="dv">5</span>] <span class="st">&quot;Palo Alto, CA&quot;</span>           <span class="st">&quot;Berkeley, CA&quot;</span>           </span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true"></a> [<span class="dv">7</span>] <span class="st">&quot;San Jose, CA&quot;</span>            <span class="st">&quot; Remote Position&quot;</span>       </span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true"></a> [<span class="dv">9</span>] <span class="st">&quot;Lake Forest, CA&quot;</span>         <span class="st">&quot; Remote Position&quot;</span>       </span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true"></a>[<span class="dv">11</span>] <span class="st">&quot; Remote Position&quot;</span>        <span class="st">&quot;Los Angeles, CA&quot;</span>        </span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true"></a>[<span class="dv">13</span>] <span class="st">&quot;Irvine, CA&quot;</span>              <span class="st">&quot;San Francisco, CA&quot;</span>      </span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true"></a>[<span class="dv">15</span>] <span class="st">&quot; Remote Position&quot;</span>        <span class="st">&quot;Beverly Hills, CA&quot;</span>      </span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true"></a>[<span class="dv">17</span>] <span class="st">&quot;San Francisco, CA&quot;</span>       <span class="st">&quot;Irvine, CA&quot;</span>             </span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true"></a>[<span class="dv">19</span>] <span class="st">&quot; Remote Position&quot;</span>        <span class="st">&quot; Remote Position&quot;</span>       </span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true"></a>[<span class="dv">21</span>] <span class="st">&quot; Remote Position&quot;</span>        <span class="st">&quot;Minneapolis, MN&quot;</span>        </span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true"></a>[<span class="dv">23</span>] <span class="st">&quot;Ann Arbor, MI&quot;</span>           <span class="st">&quot;Bloomington, IN&quot;</span>        </span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true"></a>[<span class="dv">25</span>] <span class="st">&quot;Dallas, TX&quot;</span>              <span class="st">&quot; Remote Position&quot;</span>       </span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true"></a>[<span class="dv">27</span>] <span class="st">&quot; Remote Position&quot;</span>        <span class="st">&quot;Cambridge, MA&quot;</span>          </span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true"></a>[<span class="dv">29</span>] <span class="st">&quot;South San Francisco, CA&quot;</span> <span class="st">&quot;Alameda, CA&quot;</span>            </span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true"></a>[<span class="dv">31</span>] <span class="st">&quot; Remote Position&quot;</span>        <span class="st">&quot;West Hollywood, CA&quot;</span>     </span></code></pre></div>
<p>We want to clean up the spaces and also identify</p>
<ul>
<li>remote</li>
<li>state</li>
</ul>
<p>12 of the 32 (!) indicate remote.</p>
<p>By state, we have</p>
<pre><code>CA IN MA MI MN NY TX 
14  1  1  1  1  1  1 </code></pre>
</body>
</html>
